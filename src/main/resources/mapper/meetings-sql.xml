<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="meetings">
	<select id="selectList" parameterType="hashmap" resultType="hashmap">
		SELECT
			mt_no,
			mt_title,
			mt_rep_img,
			(mt_total_pnum - mt_current_pnum) as mt_permit_pnum
		FROM
			meetings
<!-- 		<where>
			<if test="searchKey != null and searchKey == 0">
				B_SUBJECT like '%' || #{searchWord} || '%'
			</if>
			<if test="searchKey != null and searchKey == 1">
				B_SUBJECT like '%' || #{searchWord} || '%' or B_CONTENT like '%' ||#{searchWord} || '%'
			</if>
			<if test="searchKey != null and searchKey == 2">
				B_NAME like '%' || #{searchWord} || '%'
			</if>
		</where> -->
		ORDER BY
			mt_no desc
	</select>
	
	<select id="selectLikeitCount" parameterType="int" resultType="int">
		SELECT
			count(*)
		FROM
			likeit
		WHERE
			mt_no=#{mt_no}
	</select>
</mapper>