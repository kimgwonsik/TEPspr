<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="meetings">
	<select id="selectList" parameterType="hashmap" resultType="hashmap">
		SELECT
			O_NO,
			O_SUBJECT,
			O_REP_IMG,
			(O_TOTAL_PNUM - O_CURRENT_PNUM) as O_PERMIT_PNUM
		FROM
			OPENMEET
<!-- 		<where>
			<if test="searchKey != null and searchKey == 0">
				B_SUBJECT like '%' || #{searchWord} || '%'
			</if>
			<if test="searchKey != null and searchKey == 1">
				B_SUBJECT like '%' || #{searchWord} || '%' or B_CONTENT like '%' ||#{searchWord} || '%'
			</if>
			<if test="searchKey != null and searchKey == 2">
				B_NAME like '%' || #{searchWord} || '%'
			</if>
		</where> -->
		ORDER BY
			O_NO DESC
	</select>
	
	<select id="selectLikeitCount" parameterType="int" resultType="int">
		SELECT
			COUNT(*)
		FROM
			LIKEIT
		WHERE
			O_NO=#{o_no}
	</select>
</mapper>